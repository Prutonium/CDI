<html>
<head>
	<title> CDI Production Map </title>
	
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin=""/>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
   integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
   crossorigin=""></script>
	
<style>
	html, body {
		width: 100%;
		height: 100%;
		margin: 0;
	}
	#map {
		width: 100%;
		height: 100%;
		//width: 1000px;
		//height: 800px;
	}
</style>	
	
	
</head>
<body>
	
<div id='map'></div>
	
<script>
	
/*Icons for markers Here*/	
	var plantIcon = L.Icon.extend({
		options: {
			iconSize:     [35, 35], //Size of the icon
			//shadowSize:   [50, 64], //size of the shadow
			//iconAnchor:   [22, 94], // point of the icon which will correspond to markers location
			//shadowAnchor: [4, 62], // shadows anchor
			//popupAnchor:  [-3, -76] //where the popup will open relative to icon
		}
	});
	
	var ActiveIcon = new plantIcon({iconUrl: 'plantformap.png'}),
	    OutageIcon = new plantIcon({iconUrl: 'outtage.png'});
	
/*SM Plants Here*/
	var Styrene = L.layerGroup();

	L.marker([30.079820, -90.913910]).bindPopup("<b>Americas Styrenics</b><br />Styrene Plant, St. James <br /> 2315 MM LBS ").addTo(Styrene),
	
	L.marker([30.219415, -91.072066]).bindPopup("<b>Cos-Mar</b><br />Styrene Plant, Carville <br /> 2620 MM LBS ").addTo(Styrene),
	
	L.marker([29.359321, -94.929242]).bindPopup("<b>Ineos Styrolution</b><br />Styrene Plant, Texas City <br /> 1100 MM LBS ").addTo(Styrene),
	
	L.marker([29.602816, -95.015741]).bindPopup("<b>Ineos Styrolution</b><br />Styrene Plant, Bayport <br /> 1720 MM LBS ").addTo(Styrene),
	
	L.marker([29.835284, -95.111826]).bindPopup("<b>LyondellBasell</b><br />Styrene Plant, Channelview <br /> 2820 MM LBS ").addTo(Styrene),	
	
	L.marker([30.183504, -93.355829]).bindPopup("<b>Westlake Styrene Corp. </b><br />Styrene Plant, Lake Charles <br /> 580 MM LBS ").addTo(Styrene);
	
/*ABS Plants Here*/
	var ABS = L.layerGroup();

	L.marker([39.149247, -84.741864], {icon: ActiveIcon}).bindPopup("<b>Ineos Styrolution</b><br />ABS Plant <br /> Addyston, OH <br /> 420 MM LBS ").addTo(ABS),
	L.marker([22.418370, -97.885148], {icon: ActiveIcon}).bindPopup("<b>Ineos Styrolution</b><br />ABS Plant <br /> Altamira, Mexico <br /> 210 MM LBS ").addTo(ABS),
	L.marker([41.029798, -81.478989], {icon: ActiveIcon}).bindPopup("<b>A.Schulman</b><br />ABS Plant <br /> Akron, OH <br /> 60 MM LBS ").addTo(ABS), //reverify address
	L.marker([43.606713, -84.217469], {icon: ActiveIcon}).bindPopup("<b>Trinseo</b><br />ABS Plant <br /> Midland, MI<br /> 200 MM LBS ").addTo(ABS), //reverify, might be current DOW
	L.marker([41.334267, -88.754821], {icon: OutageIcon}).bindPopup("<b>UNDER FORCE MAJEURE<br />Sabic</b><br />ABS Plant <br /> Ottawa, IL <br /> 395 MM LBS ").addTo(ABS),
	L.marker([30.219886, -89.569078], {icon: ActiveIcon}).bindPopup("<b>Sabic</b><br />ABS Plant <br /> Bay St. Louis, MS <br /> 275 MM LBS ").addTo(ABS),
	L.marker([30.219886, -89.569078], {icon: ActiveIcon}).bindPopup("<b>Sabic</b><br />ABS Plant <br /> Altamira, Tamaulipas Mexico<br /> 70 MM LBS ").addTo(ABS);
	
	
	
/*PS Plants Here*/
	var PS = L.layerGroup();	
	L.marker([30, -92]).bindPopup("<b>Company</b><br />Polystyrene Plant <br /> City, State <br /> ___ MM LBS ").addTo(PS);
	
	
/* Sets Map to see Center of U.S. with zoom of 4 */
	
	var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
	    mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';
	
	var grayscale   = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
	    streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: mbAttr}),
	    Florence = L.tileLayer.wms('https://nowcoast.noaa.gov/arcgis/services/nowcoast/wwa_meteocean_tropicalcyclones_trackintensityfcsts_time/MapServer/WMSServer?request=GetCapabilities&service=WMS', {layers:'ne:ne'});

	var map = L.map('map', {
			  center: [37.0902, -95.7129],
			  zoom: 4,
			  layers: [streets]
	});
	
	var baseLayers = {
		"Streets": streets,
		"Greyscale": grayscale
	};
	
	var overlays = {
		"Styrene" : Styrene,
		"ABS" : ABS,
		"Polystyrene" : PS
	};
	
	
	var Storms = {
		"Florence": Florence
	};

/*	L.marker([37.0902, -95.7129]).addTo(mymap)
		.bindPopup("<b>Hello world!</b><br />Center of the U.S. here!.").openPopup();
	
*/	
	
/* Test Shapes 

	L.circle([51.508, -0.11], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("I am a circle.");

	L.polygon([
		[51.509, -0.08],
		[51.503, -0.06],
		[51.51, -0.047]
	]).addTo(mymap).bindPopup("I am a polygon.");


	var popup = L.popup();
*/	
	L.control.layers(baseLayers, overlays, Storms).addTo(map);

	
	
	
	
	
	
</script>

</body>
</html>





   

